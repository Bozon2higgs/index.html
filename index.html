<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HFH — Human for Human</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* ================= LANG SWITCH ================= */
    .lang-switch {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .lang-switch button {
      padding: 6px 12px;
      border-radius: 6px;
      border: 1px solid #999;
      background: #f2f2f2;
      color: #111;               /* TEXTE BIEN VISIBLE */
      cursor: pointer;
      font-size: 0.9em;
      font-weight: 600;
    }

    .lang-switch button:hover {
      background: #e0e0e0;
    }

    .lang-switch button.active {
      background: #111;          /* FOND SOMBRE */
      color: #fff;               /* TEXTE BLANC */
      border-color: #111;
    }

    .lang-switch button:focus {
      outline: 3px solid #4d90fe; /* ACCESSIBILITÉ CLAVIER */
      outline-offset: 2px;
    }

    .help {
      font-size: 0.85em;
      color: #555;
      margin-top: 2px;
    }
  </style>
</head>
<body>

<header class="site-header">
  <div class="brand">
    <img src="assets/logo_hfh.png" alt="HFH" class="logo" />
    <div>
      <h1 class="brand-title">HFH</h1>
      <p class="brand-subtitle">Human for Human • Local-first • No data collection</p>
    </div>
  </div>
</header>

<main class="container">

<section class="card">
  <h2 data-i18n="title">Human For Human — Report</h2>

  <!-- LANG SWITCH -->
  <div class="lang-switch">
    <button data-lang="fr" class="active">FR</button>
    <button data-lang="en">EN</button>
    <button data-lang="es">ES</button>
    <button data-lang="ru">RU</button>
    <button data-lang="ar">AR</button>
    <button data-lang="zh">中文</button>
    <button data-lang="uk">UK</button>
  </div>

  <p class="muted" data-i18n="intro">
    Write a report locally and confidentially.
  </p>

  <hr />

  <label data-i18n="identity">Identity</label>
  <select id="identityMode">
    <option value="anonymous" data-i18n="anonymous">Anonymous</option>
    <option value="identified" data-i18n="identified">Identified</option>
  </select>
  <div class="help" data-i18n="identity_help"></div>

  <label data-i18n="name">Name</label>
  <input id="fullName" type="text" />
  <div class="help" data-i18n="name_help"></div>

  <label data-i18n="country">Country</label>
  <input id="country" type="text" />

  <label data-i18n="victims">Victims / affected populations</label>
  <textarea id="victims" rows="3"></textarea>
  <div class="help" data-i18n="victims_help"></div>

  <label data-i18n="facts_summary">Facts summary</label>
  <textarea id="factsSummary" rows="4"></textarea>

  <label data-i18n="facts_detailed">Detailed facts</label>
  <textarea id="factsDetailed" rows="6"></textarea>

  <label data-i18n="evidence">Evidence</label>
  <textarea id="evidence" rows="3"></textarea>

  <label data-i18n="requests">Requests</label>
  <textarea id="requests" rows="3"></textarea>

  <div class="actions">
    <button id="btn-export-pdf">PDF</button>
    <button id="btn-export-docx">DOCX</button>
  </div>
</section>

</main>

<footer class="footer">
  <p>HFH v1.0 — Human for Human • Local-first • No tracking</p>
</footer>

<!-- ================= I18N ================= -->
<script>
const i18n = {
  fr:{title:"Human For Human — Signalement",intro:"Rédigez un signalement localement et confidentiellement.",identity:"Identité",anonymous:"Anonyme",identified:"Identifié",identity_help:"Choisissez l’option la plus sûre.",name:"Nom",name_help:"Optionnel.",country:"Pays",victims:"Victimes",victims_help:"Qui est affecté ? Combien ?",facts_summary:"Résumé des faits",facts_detailed:"Faits détaillés",evidence:"Preuves",requests:"Demandes"},
  en:{title:"Human For Human — Report",intro:"Write a report locally and confidentially.",identity:"Identity",anonymous:"Anonymous",identified:"Identified",identity_help:"Choose the safest option.",name:"Name",name_help:"Optional.",country:"Country",victims:"Victims",victims_help:"Who is affected? How many?",facts_summary:"Facts summary",facts_detailed:"Detailed facts",evidence:"Evidence",requests:"Requests"},
  es:{title:"Human For Human — Informe",intro:"Redacte un informe local y confidencial.",identity:"Identidad",anonymous:"Anónimo",identified:"Identificado",identity_help:"Elija la opción más segura.",name:"Nombre",name_help:"Opcional.",country:"País",victims:"Víctimas",victims_help:"¿Quién está afectado?",facts_summary:"Resumen",facts_detailed:"Hechos detallados",evidence:"Pruebas",requests:"Solicitudes"},
  ru:{title:"Human For Human — Сообщение",intro:"Заполните сообщение локально.",identity:"Идентификация",anonymous:"Анонимно",identified:"Указано",identity_help:"Выберите безопасный вариант.",name:"Имя",name_help:"Необязательно.",country:"Страна",victims:"Пострадавшие",victims_help:"Кто и сколько?",facts_summary:"Кратко",facts_detailed:"Подробно",evidence:"Доказательства",requests:"Запросы"},
  ar:{title:"Human For Human — بلاغ",intro:"اكتب البلاغ محليًا وبسرية.",identity:"الهوية",anonymous:"مجهول",identified:"مُعرف",identity_help:"اختر الأكثر أمانًا.",name:"الاسم",name_help:"اختياري.",country:"البلد",victims:"الضحايا",victims_help:"من المتأثر؟",facts_summary:"ملخص",facts_detailed:"تفاصيل",evidence:"الأدلة",requests:"الطلبات"},
  zh:{title:"Human For Human — 报告",intro:"在本地安全填写报告。",identity:"身份",anonymous:"匿名",identified:"实名",identity_help:"请选择最安全的选项。",name:"姓名",name_help:"可选。",country:"国家",victims:"受影响人群",victims_help:"谁受影响？",facts_summary:"摘要",facts_detailed:"详细",evidence:"证据",requests:"请求"},
  uk:{title:"Human For Human — Повідомлення",intro:"Заповніть повідомлення локально.",identity:"Ідентичність",anonymous:"Анонімно",identified:"Вказано",identity_help:"Оберіть безпечний варіант.",name:"Імʼя",name_help:"Необовʼязково.",country:"Країна",victims:"Постраждалі",victims_help:"Хто постраждав?",facts_summary:"Коротко",facts_detailed:"Детально",evidence:"Докази",requests:"Запити"}
};

function setLang(lang){
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.dataset.i18n;
    if(i18n[lang] && i18n[lang][key]) el.textContent = i18n[lang][key];
  });
  document.querySelectorAll(".lang-switch button").forEach(b=>b.classList.remove("active"));
  document.querySelector(`[data-lang="${lang}"]`).classList.add("active");
  document.documentElement.lang = lang;
}
document.querySelectorAll(".lang-switch button").forEach(btn=>{
  btn.addEventListener("click",()=>setLang(btn.dataset.lang));
});
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/docx@8.5.0/build/index.umd.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<script src="js/pdf-docx.js"></script>

</body>
</html>
